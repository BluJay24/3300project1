<html>
<head>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<!-- Load the d3 library. -->
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="http://d3js.org/topojson.v1.min.js"></script>
<style>
body { font-family: "Open Sans"; } div { margin: 30px; }
svg { 
	border: solid black 1px; 
	display: block;
	margin: auto;
}
/* The default styles for axis elements stink. What should they be? */
.axis path {}
.axis line {}
h3 {
	text-align: center; 
	font-family: "Courier New", Courier, monospace;
	font-size: 30px
}
h2 {
	text-align: center; 
	font-family: "Courier New", Courier, monospace;
	font-size: 20px
}
</style>
</head>
<body>

<h3>Web Index Ranking With Relation to Education</h3>
<h2>*Some countries are not represented</h2>

<!-- The SVG element will go in here -->
<div id="world_map"></div>

<svg height="50" width="700" style="border: none">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:rgb(204,255,255);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(0,0,204);stop-opacity:1" />
    </linearGradient>
  </defs>
  <rect width="700" height="25" fill="url(#grad1)"/>
  <text x="0" y="40" fill="black">Lower Index</text>
  <text x="605" y="40" fill="black">Higher Index</text>
</svg>

<script>
//countries with no data are shaded gray 
var width = 1275,
    height = 620;

var projection = d3.geo.equirectangular().scale(200).translate([width / 2, height / 2]);;

var path = d3.geo.path().projection(projection);
	
var svg = d3.select("#world_map").append("svg")
    .attr("width", width)
    .attr("height", height);

var g = svg.append("g");
var worldData;

d3.json("world-50m.json", function(error, world) {
	worldData = world;

	g.selectAll("path") 
	.data(topojson.feature(world, world.objects.countries).features)
	.enter().append("path")
		.attr("d", path).style("fill", "white")
		.style("fill", function(country) {
			if (country.id == 840) {
				return "rgb(0, 0, 200)"; //create a function that'll return exactly the RGB color
			}
			if (country.id == 380 ) {
				//do italy's thing
			}
		})
		.style("stroke", "#888")

		/*var ithacaCoords = projection([-76, 42]); 

		var blueToRed = d3.scale.linear().domain([-20, 80]).range(["blue", "red"]);
		svg.append("circle")
		.attr("cx", ithacaCoords[0])
		.attr("cy", ithacaCoords[1])
		.attr("r", 5)
		.style("fill", blueToRed(76));*/

	
});
</script>

</body>
</html>
